{"mappings":"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","sources":["desafio4/desafio4.ts"],"sourcesContent":["let apiKey: string = '557108d3bcc9db8041883d6483be95e8';\r\nlet requestToken: string;\r\nlet username: string;\r\nlet password: string;\r\nlet sessionId: string;\r\nlet listId: string;\r\n\r\nlet loginButton = document.getElementById('login-button') as HTMLButtonElement;\r\nlet searchButton = document.getElementById('search-button') as HTMLButtonElement;\r\n\r\nlet searchContainer = document.getElementById('search-container') as HTMLElement;\r\n\r\n\r\nloginButton.addEventListener('click', async (e) => {\r\n    e.preventDefault();\r\n    await criarRequestToken();\r\n    await logar();\r\n    await criarSessao();\r\n    //console.log('clicou');\r\n});\r\n\r\n\r\n\r\nvar page: number = 1;\r\nvar butNext: boolean = false;\r\nlet cnext: boolean = false;\r\nlet cprev: boolean = false;\r\nvar listaDeFilmes: any;\r\nlet numPag: number;\r\nvar buttonNext: any;\r\nvar buttonPrev: any;\r\n\r\nsearchButton.addEventListener('click', async (e) => {\r\n    e.preventDefault();\r\n    console.log('debug1:', e.target);\r\n    let lista = document.getElementById(\"lista\");\r\n    if (lista) {\r\n        lista.outerHTML = \"\";\r\n    }\r\n\r\n    if (cnext === false) {\r\n        page = 1;\r\n    }\r\n\r\n    let query = (document.getElementById('search') as HTMLInputElement)?.value;\r\n    listaDeFilmes = await procurarFilme(`${query}&page=${page}`);\r\n\r\n\r\n    searchContainer.innerHTML = \"\";\r\n\r\n    for (const item of listaDeFilmes.results) {\r\n\r\n\r\n        let index: string = listaDeFilmes.results.indexOf(item);\r\n        //console.log('index: ', index)\r\n\r\n        let div = document.createElement('div');\r\n        div.id = \"item_\" + index;\r\n        div.className = \"item\";\r\n\r\n        let div_img = document.createElement('img');\r\n        div_img.src = \"https://image.tmdb.org/t/p/original/\" + item.poster_path;\r\n        div.appendChild(div_img);\r\n\r\n        // movie percent\r\n        let div_percent = document.createElement('div') as HTMLElement;\r\n        div_percent.className = \"percent\";\r\n        div.appendChild(div_percent);\r\n\r\n        let text_percent: string = Math.round(Number(item.vote_average) * 10).toString()\r\n\r\n        div_percent.innerHTML =\r\n            `<div id=\"i${index}\" class=\"c100 p${text_percent} small\">\r\n            <span>${text_percent}%</span>\r\n            <div class=\"slice\">\r\n                <div class=\"bar\"></div>\r\n                <div class=\"fill\"></div>\r\n            </div>\r\n        </div>\r\n        `\r\n        requestAnimationFrame(() => {\r\n            let div_c100 = (document.getElementById(\"i\" + index) as HTMLElement);\r\n            //console.log('div_c100: ', div_c100);\r\n\r\n            let color_percent: string;\r\n            if (Number(item.vote_average) * 10 <= 33) {\r\n                color_percent = \"red\";\r\n            } else if (Number(item.vote_average) * 10 > 33 && Number(item.vote_average) * 10 <= 66) {\r\n                color_percent = \"orange\";\r\n            } else {\r\n                color_percent = 'green';\r\n            }\r\n\r\n            try {\r\n                div_c100.classList.add(color_percent);\r\n            } catch (e) {\r\n                //\r\n            }\r\n        });\r\n\r\n        let name_title = document.createElement('div') as HTMLElement;\r\n        name_title.className = \"name_title\";\r\n        div.appendChild(name_title);\r\n\r\n        name_title.innerHTML = \r\n        `<span class=\"title\">${item.original_title}</span>\r\n        </br>\r\n        <span>${item.release_date}</span>\r\n        `;\r\n\r\n\r\n        searchContainer.appendChild(div);\r\n    }\r\n\r\n    numPag = Number(listaDeFilmes.total_pages);\r\n    console.log(\"Número de páginas: \", numPag);\r\n\r\n    if (numPag > 1) {\r\n        var indexpagina = document.createElement('div') as HTMLElement;\r\n        indexpagina.classList.add('indexpagina');\r\n        indexpagina.innerHTML =\r\n            `<a href=\"\" class=\"previous round\">&#8249;</a>\r\n            <a href=\"\" class=\"next round\">&#8250;</a>`;\r\n\r\n        let wrapperPesquisa = document.querySelectorAll('.wrapper.pesquisa')[0] as HTMLDivElement;\r\n        //console.log('wrapperPesquisa: ', wrapperPesquisa);\r\n\r\n        if (document.querySelectorAll('.next')[0] === undefined) {\r\n            wrapperPesquisa.appendChild(indexpagina);\r\n        };\r\n\r\n\r\n    }\r\n\r\n    cnext = false;\r\n    cprev = false;\r\n\r\n    buttonNext = document.querySelectorAll('.next')[0] as HTMLElement;\r\n    buttonPrev = document.querySelectorAll('.previous')[0] as HTMLElement;\r\n\r\n    requestAnimationFrame(() => {\r\n    \r\n        buttonNext.addEventListener('click', (e: { preventDefault: () => void; }) => {\r\n            e.preventDefault();\r\n            cnext = true;\r\n            if (page <= numPag && cnext === true) {\r\n                page += 1;\r\n                \r\n                searchButton.click();\r\n            }\r\n    \r\n        });\r\n\r\n        buttonPrev.addEventListener('click', (e: { preventDefault: () => void; }) => {\r\n            e.preventDefault();\r\n            \r\n            cprev = true;\r\n\r\n            if (page > 1 && cprev === true) {\r\n                page -= 1;\r\n                \r\n                searchButton.click();\r\n            }\r\n    \r\n        });\r\n\r\n    \r\n    })\r\n\r\n    console.log(listaDeFilmes);\r\n\r\n    \r\n})\r\n\r\n\r\n\r\n\r\n// - - Events originated in the html - - - \r\nfunction preencherSenha(): void {\r\n    password = (document.getElementById('senha') as HTMLInputElement)?.value;\r\n    validateLoginButton();\r\n}\r\n\r\nfunction preencherLogin() {\r\n    username = (document.getElementById('login') as HTMLInputElement)?.value;\r\n    validateLoginButton();\r\n}\r\n\r\nfunction preencherApi() {\r\n    apiKey = (document.getElementById('api-key') as HTMLInputElement)?.value;\r\n    validateLoginButton();\r\n}\r\n// - - - - - - - - - - - - - - - - - - - - - - \r\n\r\nfunction validateLoginButton() {\r\n    if (password && username && apiKey) {\r\n        loginButton.disabled = false;\r\n\r\n    } else {\r\n        loginButton.disabled = true;\r\n    }\r\n\r\n}\r\n\r\n\r\nclass HttpClient {\r\n    //static async get( url: string, method: string, body?: string ) {\r\n    static async get({ url, method, body = null }: { url: string, method: string, body?: any }) {\r\n        return new Promise((resolve, reject) => {\r\n            let request = new XMLHttpRequest();\r\n            request.open(method, url, true);\r\n\r\n            request.onload = () => {\r\n                if (request.status >= 200 && request.status < 300) {\r\n                    resolve(JSON.parse(request.responseText));\r\n                } else {\r\n                    reject({\r\n                        status: request.status,\r\n                        statusText: request.statusText\r\n                    })\r\n                }\r\n            }\r\n            request.onerror = () => {\r\n                reject({\r\n                    status: request.status,\r\n                    statusText: request.statusText\r\n                })\r\n            }\r\n\r\n            if (body) {\r\n                request.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n                body = JSON.stringify(body);\r\n            }\r\n            request.send(body);\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\nasync function procurarFilme(query: string) {\r\n    query = encodeURI(query)\r\n    console.log('query: ', query);\r\n    let result = await HttpClient.get({\r\n        url: `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${query}`, //&page=2\r\n        method: \"GET\"\r\n    })\r\n    return result\r\n}\r\n\r\nasync function adicionarFilme(filmeId: string) {\r\n    let result = await HttpClient.get({\r\n        url: `https://api.themoviedb.org/3/movie/${filmeId}?api_key=${apiKey}&language=en-US`,\r\n        method: \"GET\"\r\n    })\r\n    console.log('debug1');\r\n    console.log(result);\r\n}\r\n\r\nasync function criarRequestToken() {\r\n    let result: any = await HttpClient.get({\r\n        url: `https://api.themoviedb.org/3/authentication/token/new?api_key=${apiKey}`,\r\n        method: \"GET\"\r\n    })\r\n    requestToken = result.request_token\r\n    console.log('RequestToken: ', requestToken);\r\n}\r\n\r\nasync function logar() {\r\n    await HttpClient.get({\r\n        url: `https://api.themoviedb.org/3/authentication/token/validate_with_login?api_key=${apiKey}`,\r\n        method: \"POST\",\r\n        body: {\r\n            username: `${username}`,\r\n            password: `${password}`,\r\n            request_token: `${requestToken}`\r\n        }\r\n    })\r\n}\r\n\r\nasync function criarSessao() {\r\n    let result: any = await HttpClient.get({\r\n        url: `https://api.themoviedb.org/3/authentication/session/new?api_key=${apiKey}&request_token=${requestToken}`,\r\n        method: \"GET\"\r\n    })\r\n    sessionId = result.session_id;\r\n}\r\n\r\nasync function criarLista(nomeDaLista: string, descricao: string) {\r\n    let result = await HttpClient.get({\r\n        url: `https://api.themoviedb.org/3/list?api_key=${apiKey}&session_id=${sessionId}`,\r\n        method: \"POST\",\r\n        body: {\r\n            name: nomeDaLista,\r\n            description: descricao,\r\n            language: \"pt-br\"\r\n        }\r\n    })\r\n    console.log(result);\r\n}\r\n\r\nasync function adicionarFilmeNaLista(filmeId: string, listaId: string) {\r\n    let result = await HttpClient.get({\r\n        url: `https://api.themoviedb.org/3/list/${listaId}/add_item?api_key=${apiKey}&session_id=${sessionId}`,\r\n        method: \"POST\",\r\n        body: {\r\n            media_id: filmeId\r\n        }\r\n    })\r\n    console.log(result);\r\n}\r\n\r\nasync function pegarLista() {\r\n    let result = await HttpClient.get({\r\n        url: `https://api.themoviedb.org/3/list/${listId}?api_key=${apiKey}`,\r\n        method: \"GET\"\r\n    })\r\n    console.log(result);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"version":3,"file":"desafio4.ff00f3b0.js.map","sourceRoot":"/__parcel_source_root/"}